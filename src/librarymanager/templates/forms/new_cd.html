{% extends 'base.html' %}
{% block content %}
  <h2>New CD</h2>
  <form method="post">
    <label>Title: <input name="title" value="{{ item.title if item else '' }}"/></label><br/>
    <label>Artist: <input name="artist" value="{{ item.primary_artist if item else '' }}" required/></label><br/>
  <label>Authors (comma separated): <input name="authors" value="{% if item %}{{ item.authors|map(attribute='name')|join(', ') }}{% else %}{% endif %}"/></label><br/>
  <label>Genres (comma separated): <input name="genres" value="{% if item %}{{ item.genres|map(attribute='name')|join(', ') }}{% else %}{% endif %}"/></label><br/>
    <label>Publisher: <input name="publisher" value="{{ item.publisher if item else '' }}"/></label><br/>
    <label>Duration (minutes): <input name="duration" type="number" value="{{ item.duration_minutes if item else '' }}"/></label><br/>
  <label>Track list (comma separated): <input name="track_list" value="{% if item and item.track_list %}{{ item.track_list|join(', ') }}{% else %}{% endif %}"/></label><br/>
  <label>External URL: <input name="external_url" value="{{ item.external_url if item else '' }}"/></label><br/>
  <label>Image URL: <input name="image_url" value="{{ item.image_url if item else '' }}"/></label><br/>
    <button type="submit">{{ 'Save' if item else 'Create' }}</button>
  </form>
{% endblock %}
